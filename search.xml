<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>有道API调用</title>
    <url>/2020/09/24/youdao/</url>
    <content><![CDATA[<h1 id="有道API调用"><a href="#有道API调用" class="headerlink" title="有道API调用"></a>有道API调用</h1><p>在有道智云&gt;产品服务&gt;自然语言翻译服务&gt;文本翻译&gt;技术文档&gt;API接入指南 查看相关信息，根据有道智云提供的demo实现一个公共API调用的实例。注意，API接入指南右侧可快速导航到常用语言Demo中的JS demo</p>
<h2 id="有道API调用说明"><a href="#有道API调用说明" class="headerlink" title="有道API调用说明"></a>有道API调用说明</h2><p>文本翻译API接口提供有道的翻译服务，包含了中英翻译和小语种翻译功能。只需要通过调用文本翻译API，传入待翻译的内容，并指定要翻译的源语言（支持源语言语种自动检测）和目标语言种类，就可以得到相应的翻译结果。</p>
<ul>
<li>调用API需要向接口发送以下字段来访问服务<br><img src="https://img-blog.csdnimg.cn/20200924120622936.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTA3MTk2MQ==,size_16,color_FFFFFF,t_70#pic_left" alt="在这里插入图片描述"><br>代码实现</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;有道智云&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;jqueryvalidation.org&#x2F;files&#x2F;demo&#x2F;site-demos.css&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div style&#x3D;&quot;text-align: center;border: 1px solid;width: 20%;padding: 10px;margin: 0 auto;&quot;&gt;</span><br><span class="line">        &lt;h3&gt;有道翻译&lt;&#x2F;h3&gt;</span><br><span class="line">        &lt;p&gt;&lt;label&gt;输入:&lt;&#x2F;label&gt;</span><br><span class="line">            &lt;input id&#x3D;&quot;in&quot; type&#x3D;&quot;text&quot; &#x2F;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;p&gt;&lt;label&gt;from:&lt;&#x2F;label&gt;</span><br><span class="line">            &lt;input id&#x3D;&quot;from&quot; type&#x3D;&quot;text&quot; value&#x3D;&#39;zh-CHS&#39; &#x2F;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;p&gt;&lt;label&gt;to:&lt;&#x2F;label&gt;</span><br><span class="line">            &lt;input id&#x3D;&quot;to&quot; type&#x3D;&quot;text&quot; value&#x3D;&quot;en&quot; &#x2F;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;button&gt;确定&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">            提示：zh-CHS(中文) || ja(日语) || en(英文) || fr(法语) ...</span><br><span class="line">        &lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div style&#x3D;&quot;padding-top: 20px;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div style&#x3D;&quot;text-align: center; border: 1px solid;width: 50%;margin: 0 auto;&quot;&gt;</span><br><span class="line">        &lt;h&gt;翻译结果&lt;&#x2F;h&gt;</span><br><span class="line">        &lt;p id&#x3D;&quot;out&quot; border&#x3D;&quot;1&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;http:&#x2F;&#x2F;shared.ydstatic.com&#x2F;js&#x2F;jquery&#x2F;jquery-3.1.1.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;blueimp-md5&#x2F;2.10.0&#x2F;js&#x2F;md5.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;js-sha256&#x2F;0.9.0&#x2F;sha256.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">        var appKey &#x3D; &#39;your appKey&#39;;</span><br><span class="line">        var key &#x3D; &#39;your key&#39;;&#x2F;&#x2F;注意：暴露appSecret，有被盗用造成损失的风险</span><br><span class="line">        &#x2F;&#x2F;     当 DOM（文档对象模型） 已经加载，并且页面（包括图像）已经完全呈现时，会发生 ready 事件。</span><br><span class="line">        &#x2F;&#x2F; 由于该事件在文档就绪后发生，因此把所有其他的 jQuery 事件和函数置于该事件中是非常好的做法。</span><br><span class="line">        &#x2F;&#x2F; ready() 函数规定当 ready 事件发生时执行的代码。</span><br><span class="line">        $(document).ready(function () &#123;</span><br><span class="line">            $(&quot;button&quot;).click(function () &#123;</span><br><span class="line">                var salt &#x3D; (new Date).getTime();</span><br><span class="line">                var curTime &#x3D; Math.round(new Date().getTime() &#x2F; 1000);</span><br><span class="line">                var query &#x3D; $(&quot;#in&quot;).val()</span><br><span class="line">                var str1 &#x3D; appKey + truncate(query) + salt + curTime + key;</span><br><span class="line">                console.log(str1);</span><br><span class="line">                var sign &#x3D; sha256(str1);</span><br><span class="line">                $.ajax(&#123;&#x2F;&#x2F;ajax() 方法通过 HTTP 请求加载远程数据</span><br><span class="line">                    url: &#39;http:&#x2F;&#x2F;openapi.youdao.com&#x2F;api&#39;,</span><br><span class="line">                    type: &#39;post&#39;,&#x2F;&#x2F;请求方式（post或get）默认为get</span><br><span class="line">                    dataType: &#39;jsonp&#39;,&#x2F;&#x2F;JSONP格式</span><br><span class="line">                    data: &#123;</span><br><span class="line">                        q: query,</span><br><span class="line">                        appKey: appKey,</span><br><span class="line">                        salt: salt,</span><br><span class="line">                        from: $(&quot;#from&quot;).val(),</span><br><span class="line">                        to: $(&quot;#to&quot;).val(),</span><br><span class="line">                        sign: sign,</span><br><span class="line">                        signType: &quot;v3&quot;,</span><br><span class="line">                        curtime: curTime,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    success: function (data) &#123;&#x2F;&#x2F;请求成功后调用的回调函数</span><br><span class="line">                        console.log(data);&#x2F;&#x2F;json</span><br><span class="line">                        var out &#x3D; JSON.stringify(data.web);</span><br><span class="line">                        console.log(out);</span><br><span class="line">                        $(&quot;#out&quot;).text(out);</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;); </span><br><span class="line">        function truncate(q) &#123;</span><br><span class="line">            var len &#x3D; q.length;</span><br><span class="line">            if (len &lt;&#x3D; 20) return q;</span><br><span class="line">            return q.substring(0, 10) + len + q.substring(len - 10, len);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p><img src="https://img-blog.csdnimg.cn/20200924120849188.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTA3MTk2MQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
]]></content>
      <categories>
        <category>有道智云API</category>
      </categories>
  </entry>
</search>
